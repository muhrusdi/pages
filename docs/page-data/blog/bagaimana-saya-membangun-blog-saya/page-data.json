{
    "componentChunkName": "component---src-templates-blogs-detail-index-tsx",
    "path": "/blog/bagaimana-saya-membangun-blog-saya",
    "result": {"pageContext":{"slug":"bagaimana-saya-membangun-blog-saya","data":{"title":"Bagaimana Saya Membangun Blog Saya","createdAt":"2021-08-23T06:10:35.954Z","isPublished":true,"seoTitle":"Bagaimana Saya Membangun Blog Saya","body":{"childMarkdownRemark":{"html":"<h4>Ketika kalian mempertimbangkan membuat blog dev untuk diri sendiri. Anda mungkin akan cukup kewalahan dengan banyaknya tool dan teknologi baru yang bermunculan. Ya, mungkin kita hidup di era yang cukup berkelimpahan dengan banyaknya pilihan.</h4>\n<p>Ketika saya ingin membuat blog dev saya, yang pertama saya pertimbangkan adalah bagaimana saya bisa membuat postingan yang sepenuhnya dapat di custom, seperti terdapat editor html yang realtime preview, komponen yang interaktif seperti tombol yang bisa di mouseover dan juga terdapat fitur ubah css. Pada intinya bagaimana konten tersebut bisa lebih interaktif.</p>\n<h3>React</h3>\n<p>Blog ini menggunakan <a href=\"https://www.gatsbyjs.com/\">Gatsbyj</a>s.</p>\n<p>Gatsbyjs adalah salah satu framework <code class=\"language-text\">static site generator</code> atau tool penghasil halaman statik yang berbasis <code class=\"language-text\">React</code>. Salah satu fitur gatsbyjs yang menarik bagi saya adalah sistem pluginnya, dimana kita dapat dengan mudah mengintegrasikan layanan yang lain, misalnya untuk kebutuhan content seperti contentful, prismic, headless wordpress dan headless CMS lainnya.</p>\n<p>Apapun yang Anda bayangkan ketika ingin mengambil data dari CMS hingga headless ecommerce dapat dilakukan dengan mudah memanfaatkan <a href=\"https://www.gatsbyjs.com/plugins\">Gatsby Plugin</a>.</p>\n<h3>Route</h3>\n<p>Saya menggunakan <a href=\"https://www.gatsbyjs.com/docs/reference/routing/file-system-route-api/\">File System Route</a> dan <a href=\"https://www.gatsbyjs.com/docs/how-to/routing/client-only-routes-and-user-authentication\">Client-only Route</a> dalam menyajikan konten-konten yang ada di blog saya.</p>\n<p>Walaupun Gatsby merupakan static site generator, namun tidak menutup kemungkinan kita dapat membangun aplikasi dengan route yang dimamis menggunakan Gatsby. Dengan memnafaatkan <code class=\"language-text\">Cleint-only route</code>, kita dapat membangun aplikasi dinamis layaknya framework yang lain seperti <a href=\"https://create-react-app.dev/\">CRA</a> (create react app).\n<img src=\"//images.ctfassets.net/gyshnlhzhaow/18RyQt0laYjon1cxvTIFsB/4b5a1f6fdf2cf955cfaf3090e5b115aa/filesystemroute-muhrusdi.png\" alt=\"filesystemroute-muhrusdi\"></p>\n<p>Files system route adalah sistem perutean yang ada di Gatsby dengan memanfaatkan nama file, sehingga setiap ingin membuat sebuah route hanya dengan membuat file didalam direktori <code class=\"language-text\">pages</code>, sistem perutean ini akan di generate pada saat proses build.</p>\n<p>Client-only routes adalah sistem perutean yang hanya akan tersedia disi client karena proses renderingnya hanya dilakukan disisi client, sehingga dengan menggunakan route ini memungkinkan untuk membuat route yang lebih dinamis.</p>\n<p>Dalam kasus ini, saya menggunakan client-only route hanya di halaman <code class=\"language-text\">work</code>, karena di halaman ini saya menginginkan konten yang lebih dinamis, sehingga konten akan lebih cepat terupdate tanpa perlu melakukan build ulang.</p>\n<p>Perlu diingat bahwa Gatsby adalah static site generator yang mana semua perubahan yang dilakukan terhadap konten (source) hanya dapat terlihat setelah melakukan build ulang.</p>\n<p>Secara keseluruhan, blog ini tersedia dalam bentuk statik yang di generate oleh Gatsby. Namun ada bagian-bagian tertentu yang ditampilkan secara dinamis, sehingga dalam kasus ini perlu dilakukan fetching di sisi klien. Seperti halaman home pada gambar berikut:\n<img src=\"//images.ctfassets.net/gyshnlhzhaow/4MX8y3PtYKh2wl9Ipw3qsq/dddbc538bb2602818e26bfa548fe6463/home-page-muhrusdi.jpg\" alt=\"home-page-muhrusdi\"></p>\n<h3>Data Fetching</h3>\n<p>Dibagian home, saya memiliki dua daftar postingan yang terpisah yaitu postingan <code class=\"language-text\">article</code> dan <code class=\"language-text\">work</code>.</p>\n<p>Bagian <code class=\"language-text\">article</code>, saya menggunakan metode <code class=\"language-text\">static generate</code> yang menghasilkan sebuah file statik pada saat build, yang dapat membuat proses response lebih cepat ketika diakses. Hal ini juga memungkinkan artikel kita lebih optimal dari sisi SEO.</p>\n<p>Kemudian bagian <code class=\"language-text\">work</code> menggunakan data fetching di sisi klien, sehingga proses renderingnya pun di sisi klien. Kenapa hal ini berbeda dengan yang lain?, karena:</p>\n<ul>\n<li>Ketergantungan menambah dan mengedit <code class=\"language-text\">work</code> dari project yang telah dikerjakan sehingga membutuhkan response yang lebih dinamis untuk melihat hasilnya.</li>\n<li>Kita bisa abaikan dari sisi SEO dibagian <code class=\"language-text\">work</code>, jadi tidak perlu dilakukan render di sisi server ataupun digenerate statik.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// query untuk artikel</span>\n\n<span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">useStaticQuery</span><span class=\"token punctuation\">(</span>graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query {\n    allFile(\n      limit: 6\n      sort: {fields: childMdx___frontmatter___publishedOn, order: DESC}\n      filter: {\n        childMdx: {\n          frontmatter: {isPublished: {eq: true}}\n        }\n        sourceInstanceName: { eq: \"blogs\" }\n      }\n    ) {\n      edges {\n        node {\n          childMdx {\n            frontmatter {\n              title\n              publishedOn\n              isPublished\n              seoTitle\n              abstract\n              featuredImage {\n                childImageSharp {\n                  gatsbyImageData(layout: FULL_WIDTH, placeholder: BLURRED)\n                }\n              }\n            }\n            fields {\n              slug\n            }\n            body\n            slug\n            excerpt\n          }\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Disini saya menggunakan <code class=\"language-text\">hooks</code> <code class=\"language-text\">useStaticQuery</code> untuk mengambil data dari <code class=\"language-text\">mdx</code>.</p>\n<p>Jadi <code class=\"language-text\">MDX</code> adalah perpanjangan dari <code class=\"language-text\">Markdown</code>, hanya saja dengan <code class=\"language-text\">mdx</code> kita dapat meanmbahkan komponen react kedalam file <code class=\"language-text\">mdx</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// query untuk work</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">WORK_COLLECTION</span> <span class=\"token operator\">=</span> gql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query GetWorkCollection {\n    workCollection(limit: 6) {\n      items {\n        title\n        sys {\n          id\n        }\n        description\n        featuredImage {\n          url\n        }\n        techsCollection {\n          items {\n            ... on TechIcon {\n              name\n            }\n          }\n        }\n        category {\n          ... on WorkCategory {\n            title\n          }\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> loading<span class=\"token punctuation\">,</span> data<span class=\"token operator\">:</span> dataWorks <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useQuery</span><span class=\"token punctuation\">(</span><span class=\"token constant\">WORK_COLLECTION</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Kemdudian untuk postingan <code class=\"language-text\">work</code>, disini saya menggunakan <code class=\"language-text\">hooks</code> yang disediakan oleh <a href=\"https://www.apollographql.com/docs/react/\">Apollo Client</a> dari ApolloGraphQL. Bagian ini akan diquery di sisi klien, jadi proses querynya akan dilakukan setiap kita mengakses halaman <code class=\"language-text\">work</code> sehingga membuat konten ini up to date, namun sekali lagi hal ini mungkin dari sisi SEO kurang optimal.</p>\n<h3>Source</h3>\n<p>Berhubungan dengan sumber datanya, disini saya menggunakan dua sumber data yaitu <a href=\"https://mdxjs.com/\">Mdx</a> dan CMS <a href=\"https://www.contentful.com/\">Contentful</a>. Saya menulis artikel di <code class=\"language-text\">mdx</code> ketika ingin membuat konten tersebut lebih interaktif, seperti untuk konten sepeutar style di <code class=\"language-text\">React</code>, kita dapat menempatkan komponen react seperti <code class=\"language-text\">Button</code> yang memiliki <code class=\"language-text\">action</code> <code class=\"language-text\">hover</code> ataupun akan muncul popup ketika di klik.</p>\n<p>Kemudian untuk sumber data <code class=\"language-text\">Contentful</code> biasanya untuk konten yang sifatnya abstrak yang hanya terdiri dari pargraf, gambar autupun <code class=\"language-text\">code block</code>.</p>\n<p>Prosesnya dapat dilihat pada blok kode berikut:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> composeBlogs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>data<span class=\"token operator\">?.</span>allFile<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>data<span class=\"token operator\">?.</span>allContentfulArticle<span class=\"token punctuation\">.</span>edges<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">const</span> blogsSort <span class=\"token operator\">=</span> composeBlogs<span class=\"token punctuation\">.</span><span class=\"token function\">sort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span>b</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> current <span class=\"token operator\">=</span> a<span class=\"token punctuation\">.</span>node<span class=\"token operator\">?.</span>childMdx<span class=\"token operator\">?.</span>frontmatter<span class=\"token operator\">?.</span>publishedOn <span class=\"token operator\">||</span> a<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>createdAt\n  <span class=\"token keyword\">const</span> next <span class=\"token operator\">=</span> b<span class=\"token punctuation\">.</span>node<span class=\"token operator\">?.</span>childMdx<span class=\"token operator\">?.</span>frontmatter<span class=\"token operator\">?.</span>publishedOn <span class=\"token operator\">||</span> b<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">.</span>createdAt\n  <span class=\"token keyword\">return</span> current <span class=\"token operator\">></span> next <span class=\"token operator\">?</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Jadi yang pertama, kita gabungkan semua artikel baik dari <code class=\"language-text\">mdx</code> maupun artikel dari Contentful, kemudian kita sorting berdasarkan tanggal pembuatan artikelnya.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>grid grid-cols-1 mt-12 sm:grid-cols-2 md:grid-cols-3 gap-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token punctuation\">{</span>\n    blogsSort<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> key</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">&lt;</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        node<span class=\"token operator\">?.</span>childMdx<span class=\"token operator\">?.</span>frontmatter<span class=\"token operator\">?.</span>isPublished <span class=\"token operator\">||</span> node<span class=\"token punctuation\">.</span>isPublished <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">key</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n            </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">BlogItem</span></span> <span class=\"token attr-name\">data</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>node<span class=\"token punctuation\">.</span>childMdx <span class=\"token operator\">||</span> node<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Dari hasil sorting tersebut baru kemudian kita <code class=\"language-text\">iterate</code> menggunakan <code class=\"language-text\">map</code>, setiap perulangan kita mengecek apakah artikel tersebut telah siap untuk dipublish.</p>\n<h3>Deployment</h3>\n<p>Sebelumnya saya menggunakan <a href=\"https://pages.github.com/\">Github Page</a> yang disediakan github secara gratis. Namun dengan pertimbangan akan menambahkan konten dari headless CMS yaitu Contentful, dan kebetulan baru-baru ini Cloudflare Pages menambahkan fitur webhooks, akhirnya saya memindahkan blog saya ke <a href=\"https://pages.cloudflare.com/\">Cloudflare Pages</a>.</p>\n<h3>Code Snippet</h3>\n<p>Yah ini mungkin termasuk bagian terpenting bagi seorang developer. Tidak ada blog yang sempurna tanpa adanya <code class=\"language-text\">code snippet</code>.</p>\n<p>Untuk code snippet, saya telah membuat sebuah plugin untuk menangani hal tersebut. Saya membuat plugin menggunakan libaray <code class=\"language-text\">prism-react-renderer</code> dengan tambahan beberapa fitur.</p>\n<p>Saya menggunakan <a href=\"https://github.com/shipless/highlight\">Shipless Highlight</a> dimana salah satu fiturnya adalah fitur highlight untuk kode yang ditambahkan dan dikurangi.</p>\n<p>Dilain situasi, saya mempunya juga komponen yang berbeda, <a href=\"https://github.com/shipless/play\">Shipless Play</a> yaitu simple playground untuk HTML, CSS dan JS. Saya membuat playground ini menggunakan library <a href=\"https://github.com/suren-atoyan/monaco-react\">@monaco-editor/react</a> kemudian ditambahkan fitur component preview yang realtime.</p>\n<h3>Tool lainnya</h3>\n<ul>\n<li><a href=\"https://styled-components.com/\">Styled Component</a>: untuk styling <code class=\"language-text\">CSS in JS</code></li>\n<li><a href=\"https://www.framer.com/motion/\">Framer Motion</a>: untuk animasinya</li>\n<li><a href=\"https://tailwindcss.com/\">Tailwindcss</a>: untuk tambahan utility di css</li>\n<li><a href=\"https://www.radix-ui.com/docs/primitives/overview/introduction\">Radix-UI</a>: untuk komponen-komponen primitive</li>\n</ul>\n<h3>Ringkasan</h3>\n<p>Di era sekarang, kita memang dimanjakan dengan tool dan teknologi dengan banyaknya pilihan untuk membantu menyelesaikan pekerjaan kita. Salah satunya adalah Gatsbyjs yang merupakan framework react yang dapat membantu para pengembang front end dapat dengan mudah membangun website mereka dengan cepat serta memiliki performa yang lebih baik.</p>\n<p>Gatsby dilengkapi dengan fitur plugin, yang memungkinkan kita mengintegrasikan dengan layanan-layanan lain. Dan ini salah satu alasan saya menggunakan Gatsby, dimana saya tidak ingin membuang waktu untuk melakukan sesuatu yang hal-hal dasar, seperti bagaimana menampilkan file <code class=\"language-text\">mdx</code> di Gatsby. Yah, dengan memasang plugin dan menentukan lokasi filenya kita sudah dapat mengolah file <code class=\"language-text\">md</code>.</p>\n<p>Berbeda halnya ketika kita butuh kendali yang lebih banyak untuk kondisi tertentu. Tentu saya akan menggunakan framework lain seperti Nextjs, yang dapat menangani aplikasi yang leibh dinamis dan umumnya untuk proses integrasi dengan layanan lain memberikan banyak kendali sehingga kita leluasa mengatur sesuai keinginan kita.</p>"}},"abstract":{"abstract":"Pada artikel ini saya akan memaparkan bagaimana saya membangun blog saya, mulai stack serta tool yang saya gunakan yang mungkin juga dapat Anda implementasikan di blog kalian sendiri."},"featuredImage":{"gatsbyImageData":{"images":{"sources":[{"srcSet":"//images.ctfassets.net/gyshnlhzhaow/73zTyXYa6c7EN2TScfemD0/4bc713fd891f671a939f25a4d93f4789/myblog.jpg?w=750&h=436&q=50&fm=webp 750w,\n//images.ctfassets.net/gyshnlhzhaow/73zTyXYa6c7EN2TScfemD0/4bc713fd891f671a939f25a4d93f4789/myblog.jpg?w=1007&h=585&q=50&fm=webp 1007w","sizes":"100vw","type":"image/webp"}],"fallback":{"src":"//images.ctfassets.net/gyshnlhzhaow/73zTyXYa6c7EN2TScfemD0/4bc713fd891f671a939f25a4d93f4789/myblog.jpg?w=1007&h=585&fl=progressive&q=50&fm=jpg","srcSet":"//images.ctfassets.net/gyshnlhzhaow/73zTyXYa6c7EN2TScfemD0/4bc713fd891f671a939f25a4d93f4789/myblog.jpg?w=750&h=436&fl=progressive&q=50&fm=jpg 750w,\n//images.ctfassets.net/gyshnlhzhaow/73zTyXYa6c7EN2TScfemD0/4bc713fd891f671a939f25a4d93f4789/myblog.jpg?w=1007&h=585&fl=progressive&q=50&fm=jpg 1007w","sizes":"100vw"}},"layout":"fullWidth","width":1,"height":0.5809334657398212,"placeholder":{"fallback":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAAMABQDAREAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIDBAb/xAAiEAACAQMEAgMAAAAAAAAAAAABAgADERMSIUFhImJxsdH/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/EABkRAQEBAQEBAAAAAAAAAAAAAAABEUEhMf/aAAwDAQACEQMRAD8A2lQsC2TWnlZBlA1fEfAZVD2zWawUqai7H93EXVknVpQQouST3CI3ol6gbLUX1BFvqOYX3DtTBHI7HMBoH//Z"}}}}}},
    "staticQueryHashes": ["45326706"]}